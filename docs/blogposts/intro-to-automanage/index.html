<!DOCTYPE html>
<html class="no-js" lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Introduction to Automanage - Erlend Rushfeldt - Blog</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="//localhost:1313/blogposts/intro-to-automanage/">
  <meta property="og:site_name" content="Erlend Rushfeldt - Blog">
  <meta property="og:title" content="Introduction to Automanage">
  <meta property="og:description" content="What if you could make configuring the supporting services of your VMs so much easier? And without needing to assign and manage several policies. This is where Azure Automanage comes flying in like the savior you always needed!
What is Automanage? Automanage is as simple as a configuration profile that you apply to your VMs that will automatically configure the services that are best practice for VMs in Azure. For example, Azure Log Analytics and Azure Backup.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blogposts">
    <meta property="article:published_time" content="2022-04-22T09:53:13+02:00">
    <meta property="article:modified_time" content="2022-04-22T09:53:13+02:00">
    <meta property="article:tag" content="Governance">
    <meta property="article:tag" content="Compute">
    <meta property="article:tag" content="Azure VM">

		
  <meta itemprop="name" content="Introduction to Automanage">
  <meta itemprop="description" content="What if you could make configuring the supporting services of your VMs so much easier? And without needing to assign and manage several policies. This is where Azure Automanage comes flying in like the savior you always needed!
What is Automanage? Automanage is as simple as a configuration profile that you apply to your VMs that will automatically configure the services that are best practice for VMs in Azure. For example, Azure Log Analytics and Azure Backup.">
  <meta itemprop="datePublished" content="2022-04-22T09:53:13+02:00">
  <meta itemprop="dateModified" content="2022-04-22T09:53:13+02:00">
  <meta itemprop="wordCount" content="519">
  <meta itemprop="keywords" content="Governance,Compute,Azure VM">
		
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Introduction to Automanage">
  <meta name="twitter:description" content="What if you could make configuring the supporting services of your VMs so much easier? And without needing to assign and manage several policies. This is where Azure Automanage comes flying in like the savior you always needed!
What is Automanage? Automanage is as simple as a configuration profile that you apply to your VMs that will automatically configure the services that are best practice for VMs in Azure. For example, Azure Log Analytics and Azure Backup.">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="Erlend Rushfeldt - Blog" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">Erlend Rushfeldt - Blog</div>
					
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/about/">
				
				<span class="menu__text">About me</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Introduction to Automanage</h1>
			<p class="post__lead">Get a intro to Azure Automanage and set-up best practice configuration for you new and existing VMs.</p>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 1 1 0 28 1 1 0 0 1 0-28m0 3a3 3 0 1 0 0 22 3 3 0 0 0 0-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class="meta__text" datetime="2022-04-22T09:53:13&#43;02:00">22-04-2022</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/azure/" rel="category">Azure</a>
	</span>
</div></div>
		</header>
		
	<figure class="post__thumbnail thumbnail">
		
		<img class="thumbnail__image" src="/img/automanage.PNG" alt="Introduction to Automanage">
		
	</figure><div class="content post__content clearfix">
			<p>What if you could make configuring the supporting services of your VMs so much easier? And without needing to assign and manage several policies. This is where Azure Automanage comes flying in like the savior you always needed!</p>
<h2 id="what-is-automanage">What is Automanage?</h2>
<p>Automanage is as simple as a configuration profile that you apply to your VMs that will automatically configure the services that are best practice for VMs in Azure. For example, Azure Log Analytics and Azure Backup.</p>
<p>Microsoft even created some predefined automanage profiles, one for Production workloads and one for Dev/Test. So which services are configurable in Automanage?</p>
<table>
  <thead>
      <tr>
          <th>Service</th>
          <th>Configuration Profile</th>
          <th>Supported Scenario</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Machines Insights Monitoring</td>
          <td>Production</td>
          <td>Windows, Linux, Azure Arc</td>
      </tr>
      <tr>
          <td>Backup</td>
          <td>Production</td>
          <td>Windows, Linux</td>
      </tr>
      <tr>
          <td>Microsoft Defender for Cloud</td>
          <td>Production, Dev/Test</td>
          <td>Windows, Linux</td>
      </tr>
      <tr>
          <td>Microsoft Antimalware</td>
          <td>Production, Dev/Test</td>
          <td>Windows</td>
      </tr>
      <tr>
          <td>Update Management</td>
          <td>Production, Dev/Test</td>
          <td>Windows, Linux, Azure Arc</td>
      </tr>
      <tr>
          <td>Change Tracking and Inventory</td>
          <td>Production, Dev/Test</td>
          <td>Windows, Linux, Azure Arc</td>
      </tr>
      <tr>
          <td>Guest configuration</td>
          <td>Production, Dev/Test</td>
          <td>Windows, Linux, Azure Arc</td>
      </tr>
      <tr>
          <td>Boot Diagnostics</td>
          <td>Production, Dev/Test</td>
          <td>Windows, Linux</td>
      </tr>
      <tr>
          <td>Windows Admin Center</td>
          <td>Production, Dev/Test</td>
          <td>Windows</td>
      </tr>
      <tr>
          <td>Azure Automation Account</td>
          <td>Production, Dev/Test</td>
          <td>Windows, Linux, Azure Arc</td>
      </tr>
      <tr>
          <td>Log Analytics Workspace</td>
          <td>Production, Dev/Test</td>
          <td>Windows, Linux, Azure Arc</td>
      </tr>
  </tbody>
</table>
<h2 id="create-a-custom-configuration-profile">Create a custom configuration profile</h2>
<p>What if you don&rsquo;t want to use all the features and services in the built-in profiles? You just make your own custom profile. Here&rsquo;s how: Go to the Automanage service and click the &ldquo;Configuration profiles&rdquo; blade. Then click the Create button in the top left of the blade.</p>
<p>Here you can start checking and unchecking the features you want to include in the configuration profile. You can also configure a backup policy and Antimalware scan policy. As you might notice, some of the services you can&rsquo;t check or uncheck. These are Azure Security Center, Automation Account, and Log Analytics Workspace. Azure Security Center is always checked and will onboard you VMs to the free tier of the service. With Azure Automation Account and Log Analytics Workspace it will be checked or unchecked based on the other services you enable. For example, if you enable Change Tracking, it will also enable the Automation Account because it is dependent of one.</p>
<p><img src="/img/Custom-Profile.PNG" alt="custom profile"></p>
<h2 id="apply-the-configuration-profile-for-vms">Apply the configuration profile for VMs</h2>
<p>Now that you have created you own configuration profile or chosen to use one of the built-in ones. The next step is to apply the profile to one or more VM. There is also a built-in policy that you can use to apply configuration profiles for all or several VMs automatically, both new and existing ones. For simplicity I will show you how to apply the profile to a single VM.</p>
<p>In the Automanage site, you click into the &ldquo;Automanage machines&rdquo; blade. Here there is a plus button in the top menu of the blade with the text &ldquo;Enable on existing machine&rdquo;. In this page you select the configuration profile to apply. And then you select which VMs to apply it to.</p>
<p><img src="/img/automanage-apply-profile.PNG" alt="apply profile"></p>
<p>After you apply the configuration profile, you will see all the VMs with a configuration profile applied with info on which profile is applied and the status of deployment. Automanage will use some time to deploy the resources and returning a status.</p>
<p><img src="/img/automanage-applied.PNG" alt="Profile applied"></p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M4 0h8s2 0 4 2l15 15s2 2 0 4L21 31s-2 2-4 0L2 16s-2-2-2-4V3s0-3 4-3m3 10a3 3 0 0 0 0-6 3 3 0 0 0 0 6"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/governance/" rel="tag">Governance</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/compute/" rel="tag">Compute</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/azure-vm/" rel="tag">Azure VM</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>

<div class="authorbox clearfix">
	<p class="authorbox__warning">
		<strong>WARNING:</strong> Authorbox is activated, but [Author] parameters are not specified.
	</p>
</div>



			</div>
			<aside class="sidebar">
<div class="widget-recent widget">
	<h4 class="widget__title">Recent Posts</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/blogposts/cost-optimizing-azure-monitor/">Cost-Optimizing-Azure-Monitor</a></li>
			<li class="widget__item"><a class="widget__link" href="/blogposts/log-analytics-agent-deprecation/">Log Analytics Agent deprecation - Prepare for the end</a></li>
			<li class="widget__item"><a class="widget__link" href="/blogposts/santas-magic-cost-management-automation/">SantaÂ´s Magic Cost Management Automation</a></li>
			<li class="widget__item"><a class="widget__link" href="/blogposts/azurebacktoschool23/">Automate common cost optimizations</a></li>
			<li class="widget__item"><a class="widget__link" href="/blogposts/cost-optmization-in-the-wild/">Cost Optmization in the Wild</a></li>
		</ul>
	</div>
</div>
<div class="widget-taglist widget">
	<h4 class="widget__title">Tags</h4>
	<div class="widget__content">
		<a class="widget-taglist__link widget__link btn" href="/tags/automation/" title="Automation">Automation</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/azure-ad-connect/" title="Azure AD Connect">Azure AD Connect</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/azure-automation/" title="Azure Automation">Azure Automation</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/azure-compute/" title="Azure Compute">Azure Compute</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/azure-firewall/" title="Azure Firewall">Azure Firewall</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/azure-operations/" title="Azure Operations">Azure Operations</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/azure-paas/" title="Azure PaaS">Azure PaaS</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/azure-policy/" title="Azure Policy">Azure Policy</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/azure-resource-graph/" title="Azure Resource Graph">Azure Resource Graph</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/azure-spring-clean/" title="Azure Spring Clean">Azure Spring Clean</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/azure-sql/" title="Azure SQL">Azure SQL</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/azure-vm/" title="Azure VM">Azure VM</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/bicep/" title="Bicep">Bicep</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/compute/" title="Compute">Compute</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/cost-management/" title="Cost Management">Cost Management</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/cost-optimization/" title="Cost Optimization">Cost Optimization</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/festive-tech-calendar/" title="Festive Tech Calendar">Festive Tech Calendar</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/governance/" title="Governance">Governance</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/iac/" title="IaC">IaC</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/kql/" title="KQL">KQL</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/operations/" title="Operations">Operations</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/powershell/" title="PowerShell">PowerShell</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/public-speaking/" title="Public Speaking">Public Speaking</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/security/" title="Security">Security</a>
	</div>
</div>
<div class="widget-social widget">
	<h4 class="widget-social__title widget__title">Social</h4>
	<div class="widget-social__content widget__content">
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="Twitter" rel="noopener noreferrer" href="https://twitter.com/@ErlendRushfeldt" target="_blank">
				<svg class="widget-social__link-icon icon icon-twitter" width="24" height="24" viewBox="0 0 384 312"><path d="m384 36.9c-14.1 6.3-29.3 10.5-45.2 12.4 16.3-9.7 28.8-25.2 34.6-43.6-15.2 9-32.1 15.6-50 19.1-14.4-15.2-34.9-24.8-57.5-24.8-43.5 0-78.8 35.3-78.8 78.8 0 6.2.7 12.2 2 17.9-65.5-3.3-123.5-34.6-162.4-82.3-6.7 11.6-10.6 25.2-10.6 39.6 0 27.3 13.9 51.4 35 65.6-12.9-.4-25.1-4-35.7-9.9v1c0 38.2 27.2 70 63.2 77.2-6.6 1.8-13.6 2.8-20.8 2.8-5.1 0-10-.5-14.8-1.4 10 31.3 39.1 54.1 73.6 54.7-27 21.1-60.9 33.7-97.8 33.7-6.4 0-12.6-.4-18.8-1.1 34.9 22.4 76.3 35.4 120.8 35.4 144.9 0 224.1-120 224.1-224.1 0-3.4-.1-6.8-.2-10.2 15.4-11.1 28.7-25 39.3-40.8z"/></svg>
				<span>Twitter</span>
			</a>
		</div>
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="LinkedIn" rel="noopener noreferrer" href="https://linkedin.com/in/erlend-rushfeldt-b0a92a159" target="_blank">
				<svg class="widget-social__link-icon icon icon-linkedin" width="24" height="24" viewBox="0 0 352 352"><path d="M0,40v272c0,21.9,18.1,40,40,40h272c21.9,0,40-18.1,40-40V40c0-21.9-18.1-40-40-40H40C18.1,0,0,18.1,0,40z M312,32 c4.6,0,8,3.4,8,8v272c0,4.6-3.4,8-8,8H40c-4.6,0-8-3.4-8-8V40c0-4.6,3.4-8,8-8H312z M59.5,87c0,15.2,12.3,27.5,27.5,27.5 c15.2,0,27.5-12.3,27.5-27.5c0-15.2-12.3-27.5-27.5-27.5C71.8,59.5,59.5,71.8,59.5,87z M187,157h-1v-21h-45v152h47v-75 c0-19.8,3.9-39,28.5-39c24.2,0,24.5,22.4,24.5,40v74h47v-83.5c0-40.9-8.7-72-56.5-72C208.5,132.5,193.3,145.1,187,157z M64,288h47.5 V136H64V288z"/></svg>
				<span>LinkedIn</span>
			</a>
		</div>
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="GitHub" rel="noopener noreferrer" href="https://github.com/Fr3xzy" target="_blank">
				<svg class="widget-social__link-icon icon icon-github" width="24" height="24" viewBox="0 0 384 374"><path d="m192 0c-106.1 0-192 85.8-192 191.7 0 84.7 55 156.6 131.3 181.9 9.6 1.8 13.1-4.2 13.1-9.2 0-4.6-.2-16.6-.3-32.6-53.4 11.6-64.7-25.7-64.7-25.7-8.7-22.1-21.3-28-21.3-28-17.4-11.9 1.3-11.6 1.3-11.6 19.3 1.4 29.4 19.8 29.4 19.8 17.1 29.3 44.9 20.8 55.9 15.9 1.7-12.4 6.7-20.8 12.2-25.6-42.6-4.8-87.5-21.3-87.5-94.8 0-20.9 7.5-38 19.8-51.4-2-4.9-8.6-24.3 1.9-50.7 0 0 16.1-5.2 52.8 19.7 15.3-4.2 31.7-6.4 48.1-6.5 16.3.1 32.7 2.2 48.1 6.5 36.7-24.8 52.8-19.7 52.8-19.7 10.5 26.4 3.9 45.9 1.9 50.7 12.3 13.4 19.7 30.5 19.7 51.4 0 73.7-44.9 89.9-87.7 94.6 6.9 5.9 13 17.6 13 35.5 0 25.6-.2 46.3-.2 52.6 0 5.1 3.5 11.1 13.2 9.2 76.2-25.5 131.2-97.3 131.2-182 0-105.9-86-191.7-192-191.7z"/></svg>
				<span>GitHub</span>
			</a>
		</div>

		
	</div>
</div>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2025 Erlend Rushfeldt - Blog.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
</body>
</html>